{"version":3,"sources":["actions/constants.js","actions/actions.js","components/CalcPalette/CalcPalette.js","components/Desk/Desk.js","components/App/App.js","reducers/CalcReducer.js","components/Button/Button.js","HOC/eventHoc.js","components/Digital-block/DigitalBlock.js","components/Display/Display.js","components/Equal-block/EqualBlock.js","components/Operations/Operations.js","reducers/DragReducer.js","reducers/reducer.js","components/App/store.js","index.js"],"names":["ADD_DIGIT","CHOOSE_OPERATION","SET_BLOCKS","SET_DRAGGABLE_BLOCK","EVALUATE","DRAG_END","DRAG_START","SET_DROPPABLE_SECTION","CHANGE_CONSTRUCTOR_MODE","setBlocks","blocks","type","payload","dragEnd","setDroppableSection","section","mapDispatchToProps","dragging","draggableBlock","connect","drag","droppableSection","constructorModeEnable","calc","useState","index","setIndex","dragEndHandler","e","preventDefault","updatedState","slice","target","style","visibility","className","map","block","component","draggable","onDragStart","item","elemIdx","indexOf","setTimeout","dragStartHandler","onDragEnd","id","changeConstructorMode","setDraggableBlock","items","desk","setDesk","filled","setFill","FormGroup","FormControlLabel","control","Switch","onChange","defaultChecked","label","onDragOver","backgroundColor","dragOverHandler","onDragLeave","dragLeaveHandler","onDrop","itemId","state","newState","push","dropHandler","onDblClick","blockIndex","sectionIndex","findIndex","updatedPalette","newDesk","splice","removeBlockFromDesk","App","initialState","currentOperand","previousOperand","operation","evaluated","evaluate","prev","parseFloat","current","isNaN","computation","toString","calcReducer","length","includes","Button","value","onClick","eventHoc","Component","props","onDoubleClick","numbers","addDigit","digit","chooseOperation","isDraging","name","Display","DigitalBlock","EqualBlock","dragReducer","rootReducer","combineReducers","store","createStore","reducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fc8967ee.chunk.js","sourcesContent":["const ADD_DIGIT = 'ADD_DIGIT';\r\nconst CHOOSE_OPERATION = 'CHOOSE_OPERATION';\r\nconst SET_BLOCKS = 'SET_BLOCKS';\r\nconst SET_DRAGGABLE_BLOCK = 'SET_DRAGGABLE_BLOCK';\r\nconst EVALUATE = 'EVALUATE';\r\nconst DRAG_END = 'DRAG_END';\r\nconst DRAG_START = 'DRAG_START';\r\nconst SET_DROPPABLE_SECTION = 'SET_DROPPABLE_SECTION';\r\nconst CHANGE_CONSTRUCTOR_MODE = 'CHANGE_CONSTRUCTOR_MODE';\r\n\r\nexport {\r\n\tADD_DIGIT,\r\n\tCHOOSE_OPERATION,\r\n\tSET_BLOCKS,\r\n\tSET_DRAGGABLE_BLOCK,\r\n\tEVALUATE,\r\n\tDRAG_END,\r\n\tDRAG_START,\r\n\tSET_DROPPABLE_SECTION,\r\n\tCHANGE_CONSTRUCTOR_MODE,\r\n};\r\n","import {\r\n\tADD_DIGIT,\r\n\tCHOOSE_OPERATION,\r\n\tSET_DROPPABLE_SECTION,\r\n\tEVALUATE,\r\n\tSET_DRAGGABLE_BLOCK,\r\n\tSET_BLOCKS,\r\n\tDRAG_START,\r\n\tDRAG_END,\r\n\tCHANGE_CONSTRUCTOR_MODE,\r\n} from './constants';\r\n\r\nconst addDigit = (digit) => {\r\n\treturn { type: ADD_DIGIT, payload: digit };\r\n};\r\n\r\nconst chooseOperation = (operation) => {\r\n\treturn { type: CHOOSE_OPERATION, payload: operation };\r\n};\r\n\r\nconst setBlocks = (blocks) => {\r\n\treturn { type: SET_BLOCKS, payload: blocks };\r\n};\r\n\r\nconst setDraggableBlock = (block) => {\r\n\treturn { type: SET_DRAGGABLE_BLOCK, payload: block };\r\n};\r\n\r\nconst evaluate = () => {\r\n\treturn { type: EVALUATE };\r\n};\r\n\r\nconst dragEnd = () => {\r\n\treturn { type: DRAG_END };\r\n};\r\n\r\nconst dragging = (draggableBlock) => {\r\n\treturn { type: DRAG_START, payload: draggableBlock };\r\n};\r\n\r\nconst setDroppableSection = (section) => {\r\n\treturn { type: SET_DROPPABLE_SECTION, payload: section };\r\n};\r\n\r\nconst changeConstructorMode = () => {\r\n\treturn { type: CHANGE_CONSTRUCTOR_MODE };\r\n};\r\nexport {\r\n\taddDigit,\r\n\tchooseOperation,\r\n\tevaluate,\r\n\tdragging,\r\n\tsetDroppableSection,\r\n\tchangeConstructorMode,\r\n\tdragEnd,\r\n\tsetBlocks,\r\n\tsetDraggableBlock,\r\n};\r\n","import React, { useState } from 'react';\r\nimport {\r\n\tdragEnd,\r\n\tdragging,\r\n\tsetDroppableSection,\r\n\tsetBlocks,\r\n} from '../../actions/actions';\r\nimport { connect } from 'react-redux';\r\nimport './CalcPalette.css';\r\n\r\nconst CalcPalette = ({\r\n\tdraggableBlock,\r\n\tdroppableSection,\r\n\tdragging,\r\n\tconstructorModeEnable,\r\n\tsetDroppableSection,\r\n\tdragEnd,\r\n\tblocks,\r\n\tsetBlocks,\r\n}) => {\r\n\tconst [index, setIndex] = useState(null);\r\n\r\n\tconst dragStartHandler = (e, item) => {\r\n\t\tconst elemIdx = blocks.indexOf(item);\r\n\t\tif (constructorModeEnable) {\r\n\t\t\tsetIndex(elemIdx);\r\n\t\t\tdragging(item);\r\n\t\t\tsetTimeout(() => (e.target.style.visibility = 'hidden'), 50);\r\n\t\t}\r\n\t\treturn;\r\n\t};\r\n\r\n\tconst dragEndHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (droppableSection) {\r\n\t\t\tconst updatedState = [\r\n\t\t\t\t...blocks.slice(0, index),\r\n\t\t\t\t...blocks.slice(index + 1),\r\n\t\t\t];\r\n\t\t\tsetBlocks(updatedState);\r\n\t\t\tsetDroppableSection(null);\r\n\t\t}\r\n\t\tdragEnd();\r\n\t\te.target.style.visibility = 'visible';\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"calc-palete d-flex flex-column\">\r\n\t\t\t{blocks.map((block) => (\r\n\t\t\t\t<block.component\r\n\t\t\t\t\tkey={block.id}\r\n\t\t\t\t\tdraggable={constructorModeEnable}\r\n\t\t\t\t\tonDragStart={(e) => dragStartHandler(e, block)}\r\n\t\t\t\t\tonDragEnd={dragEndHandler}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = ({\r\n\tdrag: { draggableBlock, droppableSection, blocks },\r\n\tcalc: { constructorModeEnable },\r\n}) => {\r\n\treturn {\r\n\t\tdraggableBlock,\r\n\t\tdroppableSection,\r\n\t\tconstructorModeEnable,\r\n\t\tblocks,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n\tdragging,\r\n\tsetDroppableSection,\r\n\tdragEnd,\r\n\tsetBlocks,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CalcPalette);\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n\tchangeConstructorMode,\r\n\tsetDroppableSection,\r\n\tdragEnd,\r\n\tsetBlocks,\r\n\tsetDraggableBlock,\r\n} from '../../actions/actions';\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Switch from '@mui/material/Switch';\r\nimport './Desk.css';\r\n\r\nconst Desk = ({\r\n\tdraggableBlock,\r\n\tsetDroppableSection,\r\n\tchangeConstructorMode,\r\n\tconstructorModeEnable,\r\n\tblocks,\r\n\tsetBlocks,\r\n\tsetDraggableBlock,\r\n}) => {\r\n\tconst [desk, setDesk] = useState([\r\n\t\t{ id: 1, section: 'top', items: [] },\r\n\t\t{ id: 2, section: 'middle', items: [] },\r\n\t\t{ id: 3, section: 'bottom', items: [] },\r\n\t]);\r\n\r\n\tconst [filled, setFill] = useState(false);\r\n\r\n\tconst dragOverHandler = (e, section) => {\r\n\t\te.preventDefault();\r\n\t\tif (!draggableBlock) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (e.target.className === 'desk-item') {\r\n\t\t\te.target.style.backgroundColor = 'rgba(0, 159, 249, 0.4)';\r\n\t\t}\r\n\t\tsetDroppableSection(section);\r\n\t};\r\n\r\n\tconst removeBlockFromDesk = (block, section) => {\r\n\t\tif (!constructorModeEnable) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetDraggableBlock(block);\r\n\t\tconst blockIndex = section.items.indexOf(block);\r\n\t\tconst sectionIndex = desk.findIndex(\r\n\t\t\t(item) => item.section === section.section\r\n\t\t);\r\n\r\n\t\tconst updatedPalette = [\r\n\t\t\t...blocks.slice(0, block.id - 1),\r\n\t\t\tblock,\r\n\t\t\t...blocks.slice(block.id - 1),\r\n\t\t];\r\n\r\n\t\tsetDesk((state) => {\r\n\t\t\tconst newDesk = state.slice();\r\n\t\t\tnewDesk[sectionIndex].items.splice(blockIndex, 1);\r\n\t\t\treturn newDesk;\r\n\t\t});\r\n\t\tsetBlocks(updatedPalette);\r\n\t\tsetDraggableBlock(null);\r\n\t};\r\n\r\n\tconst dropHandler = (e, section) => {\r\n\t\te.preventDefault();\r\n\t\tif (e.target.className === 'desk-item') {\r\n\t\t\te.target.style.backgroundColor = '';\r\n\t\t}\r\n\r\n\t\tif (!draggableBlock) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst itemId = desk.indexOf(section);\r\n\r\n\t\tsetDesk((state) => {\r\n\t\t\tlet newState = state.slice();\r\n\t\t\tnewState[itemId].items.push(draggableBlock);\r\n\t\t\treturn newState;\r\n\t\t});\r\n\t\tdragEnd();\r\n\t\tsetFill(true);\r\n\t};\r\n\r\n\tconst dragLeaveHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (e.target.className === 'desk-item') {\r\n\t\t\te.target.style.backgroundColor = '';\r\n\t\t}\r\n\t\tsetDroppableSection(null);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"right-side\">\r\n\t\t\t<FormGroup>\r\n\t\t\t\t<FormControlLabel\r\n\t\t\t\t\tcontrol={<Switch onChange={changeConstructorMode} defaultChecked />}\r\n\t\t\t\t\tlabel={`Constructor Mode ${constructorModeEnable ? 'On' : 'Off'}`}\r\n\t\t\t\t/>\r\n\t\t\t</FormGroup>\r\n\t\t\t<div className=\"desk\">\r\n\t\t\t\t{desk.map((section) => (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tkey={section.id}\r\n\t\t\t\t\t\tonDragOver={(e) => dragOverHandler(e, section)}\r\n\t\t\t\t\t\tonDragLeave={(e) => dragLeaveHandler(e)}\r\n\t\t\t\t\t\tonDrop={(e) => dropHandler(e, section)}\r\n\t\t\t\t\t\tclassName=\"desk-item\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{section.items.map((item) => (\r\n\t\t\t\t\t\t\t<item.component\r\n\t\t\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\t\t\tonDblClick={() => removeBlockFromDesk(item, section)}\r\n\t\t\t\t\t\t\t\tdraggable={false}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t\t{filled ? null : (\r\n\t\t\t\t\t<h5 className=\"deskInfo\">\r\n\t\t\t\t\t\tПеретащите сюда\r\n\t\t\t\t\t\t<p>любой элемент из левой панели</p>\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = ({\r\n\tdrag: { draggableBlock, blocks },\r\n\tcalc: { constructorModeEnable },\r\n}) => {\r\n\treturn {\r\n\t\tdraggableBlock,\r\n\t\tconstructorModeEnable,\r\n\t\tblocks,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n\tsetDroppableSection,\r\n\tchangeConstructorMode,\r\n\tdragEnd,\r\n\tsetBlocks,\r\n\tsetDraggableBlock,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Desk);\r\n","import React from 'react';\nimport CalcPalette from '../CalcPalette/CalcPalette';\nimport Desk from '../Desk/Desk';\nimport './App.css';\n\nfunction App() {\n\treturn (\n\t\t<div className=\"container mt-5 d-flex justify-content-evenly align-items-center\">\n\t\t\t<CalcPalette />\n\t\t\t<Desk />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import {\r\n\tADD_DIGIT,\r\n\tCHOOSE_OPERATION,\r\n\tEVALUATE,\r\n\tCHANGE_CONSTRUCTOR_MODE,\r\n} from '../actions/constants';\r\n\r\nconst initialState = {\r\n\tcurrentOperand: null,\r\n\tpreviousOperand: null,\r\n\toperation: null,\r\n\tevaluated: false,\r\n\tconstructorModeEnable: true,\r\n};\r\n\r\nconst evaluate = ({ currentOperand, previousOperand, operation }) => {\r\n\tconst prev = parseFloat(previousOperand);\r\n\tconst current = parseFloat(currentOperand);\r\n\tif (isNaN(prev) || isNaN(current)) {\r\n\t\treturn '0';\r\n\t}\r\n\r\n\tlet computation = '';\r\n\r\n\tswitch (operation) {\r\n\t\tcase '+':\r\n\t\t\tcomputation = prev + current;\r\n\t\t\tbreak;\r\n\t\tcase '-':\r\n\t\t\tcomputation = prev - current;\r\n\t\t\tbreak;\r\n\t\tcase '/':\r\n\t\t\tcomputation = prev / current;\r\n\t\t\tbreak;\r\n\t\tcase 'x':\r\n\t\t\tcomputation = prev * current;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\treturn '';\r\n\t}\r\n\r\n\treturn computation.toString();\r\n};\r\n\r\nconst calcReducer = (state = initialState, { type, payload }) => {\r\n\tswitch (type) {\r\n\t\tcase CHANGE_CONSTRUCTOR_MODE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tconstructorModeEnable: !state.constructorModeEnable,\r\n\t\t\t};\r\n\t\tcase ADD_DIGIT:\r\n\t\t\tif (state.constructorModeEnable) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\tif (state.currentOperand === null && payload === '.') {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcurrentOperand: '0.',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\tstate.evaluated ||\r\n\t\t\t\t(state.currentOperand === null && payload !== '.')\r\n\t\t\t) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcurrentOperand: payload,\r\n\t\t\t\t\tevaluated: false,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif (state.currentOperand.length === 11) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\tpayload === '0' &&\r\n\t\t\t\t(state.currentOperand === null || state.currentOperand === '0')\r\n\t\t\t) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\tif (payload === '.' && state.currentOperand.includes('.')) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentOperand: `${state.currentOperand}${payload}`,\r\n\t\t\t};\r\n\r\n\t\tcase CHOOSE_OPERATION:\r\n\t\t\tif (state.constructorModeEnable) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\tif (state.currentOperand === null && state.previousOperand == null) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\t(!state.evaluated && state.currentOperand === null) ||\r\n\t\t\t\t(state.evaluated && state.currentOperand === state.previousOperand) ||\r\n\t\t\t\t(state.previousOperand &&\r\n\t\t\t\t\tstate.currentOperand === null &&\r\n\t\t\t\t\tstate.operation)\r\n\t\t\t) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\toperation: payload,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif (state.previousOperand == null) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\toperation: payload,\r\n\t\t\t\t\tpreviousOperand: state.currentOperand,\r\n\t\t\t\t\tcurrentOperand: null,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentOperand: evaluate(state),\r\n\t\t\t\tpreviousOperand: evaluate(state),\r\n\t\t\t\tevaluated: true,\r\n\t\t\t\toperation: payload,\r\n\t\t\t};\r\n\r\n\t\tcase EVALUATE:\r\n\t\t\tif (state.constructorModeEnable) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\tstate.operation === null ||\r\n\t\t\t\tstate.currentOperand === null ||\r\n\t\t\t\tstate.previousOperand === null\r\n\t\t\t) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tevaluated: true,\r\n\t\t\t\tcurrentOperand: evaluate(state),\r\n\t\t\t\tpreviousOperand: null,\r\n\t\t\t\toperation: null,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default calcReducer;\r\n","import React from 'react';\r\n\r\nconst Button = ({ className, value, onClick }) => {\r\n\treturn (\r\n\t\t<div onClick={onClick} className={className}>\r\n\t\t\t{value}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Button;\r\n","const eventHoc = (Component) => {\r\n\treturn ({ onDragStart, onDragEnd, draggable, onDblClick, ...props }) => {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tonDragStart={onDragStart}\r\n\t\t\t\tonDragEnd={onDragEnd}\r\n\t\t\t\tdraggable={draggable}\r\n\t\t\t\tonDoubleClick={onDblClick}\r\n\t\t\t>\r\n\t\t\t\t<Component {...props} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n};\r\n\r\nexport default eventHoc;\r\n","import React from 'react';\r\nimport Button from '../Button/Button';\r\nimport { connect } from 'react-redux';\r\nimport { addDigit } from '../../actions/actions';\r\nimport eventHoc from '../../HOC/eventHoc';\r\nimport './DigitalBlock.css';\r\n\r\nconst numbers = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0', '.'];\r\n\r\nconst DigitalBlock = ({ addDigit }) => {\r\n\treturn (\r\n\t\t<div className=\"digital-block\">\r\n\t\t\t{numbers.map((item) => (\r\n\t\t\t\t<Button\r\n\t\t\t\t\tkey={item}\r\n\t\t\t\t\tvalue={item}\r\n\t\t\t\t\tclassName={`btn btn-outline-secondary numbers_${item}`}\r\n\t\t\t\t\tonClick={() => addDigit(item)}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n\taddDigit,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(eventHoc(DigitalBlock));\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport eventHoc from '../../HOC/eventHoc';\r\nimport './Display.css';\r\n\r\nconst Display = ({ currentOperand }) => {\r\n\treturn (\r\n\t\t<div className=\"display\">\r\n\t\t\t<div className=\"display_text-field\">\r\n\t\t\t\t{currentOperand?.length > 11 ? (\r\n\t\t\t\t\t<h6>{`${currentOperand.slice(0, 21).toString()}\\n${currentOperand\r\n\t\t\t\t\t\t.slice(21)\r\n\t\t\t\t\t\t.toString()}`}</h6>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h3>{currentOperand || '0'}</h3>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = ({ calc: { currentOperand } }) => {\r\n\treturn {\r\n\t\tcurrentOperand: currentOperand,\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps)(eventHoc(Display));\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { evaluate } from '../../actions/actions';\r\nimport eventHoc from '../../HOC/eventHoc';\r\nimport './EqualBlock.css';\r\n\r\nconst EqualBlock = ({ evaluate }) => {\r\n\treturn (\r\n\t\t<div className=\"equal\">\r\n\t\t\t<div onClick={evaluate} className=\"equal_btn btn btn-primary\">\r\n\t\t\t\t=\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n\tevaluate,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(eventHoc(EqualBlock));\r\n","import React from 'react';\r\nimport Button from '../Button/Button';\r\nimport { chooseOperation } from '../../actions/actions';\r\nimport { connect } from 'react-redux';\r\nimport eventHoc from '../../HOC/eventHoc';\r\nimport './Operations.css';\r\n\r\nconst Operations = ({ chooseOperation }) => {\r\n\tconst operations = ['/', 'x', '-', '+'];\r\n\r\n\treturn (\r\n\t\t<div className=\"operations\">\r\n\t\t\t{operations.map((item) => (\r\n\t\t\t\t<Button\r\n\t\t\t\t\tkey={item}\r\n\t\t\t\t\tclassName=\"btn btn-outline-secondary\"\r\n\t\t\t\t\tvalue={item}\r\n\t\t\t\t\tonClick={() => chooseOperation(item)}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n\tchooseOperation,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(eventHoc(Operations));\r\n","import DigitalBlock from '../components/Digital-block/DigitalBlock';\r\nimport Display from '../components/Display/Display';\r\nimport EqualBlock from '../components/Equal-block/EqualBlock';\r\nimport Operations from '../components/Operations/Operations';\r\nimport {\r\n\tSET_DROPPABLE_SECTION,\r\n\tSET_DRAGGABLE_BLOCK,\r\n\tSET_BLOCKS,\r\n\tDRAG_START,\r\n\tDRAG_END,\r\n} from '../actions/constants';\r\n\r\nconst initialState = {\r\n\tisDraging: false,\r\n\tdraggableBlock: null,\r\n\tdroppableSection: null,\r\n\tblocks: [\r\n\t\t{ id: 1, name: 'display', component: Display },\r\n\t\t{ id: 2, name: 'operations', component: Operations },\r\n\t\t{ id: 3, name: 'digitalBlock', component: DigitalBlock },\r\n\t\t{ id: 4, name: 'equalBlock', component: EqualBlock },\r\n\t],\r\n};\r\n\r\nconst dragReducer = (state = initialState, { type, payload }) => {\r\n\tswitch (type) {\r\n\t\tcase SET_BLOCKS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tblocks: payload,\r\n\t\t\t};\r\n\t\tcase DRAG_START:\r\n\t\t\tif (state.draggableBlock === payload) {\r\n\t\t\t\treturn { ...state.drag };\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisDraging: true,\r\n\t\t\t\tdraggableBlock: payload,\r\n\t\t\t};\r\n\r\n\t\tcase DRAG_END:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisDraging: false,\r\n\t\t\t\tdraggableBlock: null,\r\n\t\t\t};\r\n\r\n\t\tcase SET_DROPPABLE_SECTION:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdroppableSection: payload,\r\n\t\t\t};\r\n\r\n\t\tcase SET_DRAGGABLE_BLOCK:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdraggableBlock: payload,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default dragReducer;\r\n","import calcReducer from './CalcReducer';\r\nimport dragReducer from './DragReducer';\r\nimport { combineReducers } from 'redux';\r\n\r\nconst rootReducer = combineReducers({\r\n\tcalc: calcReducer,\r\n\tdrag: dragReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore } from 'redux';\nimport reducer from '../../reducers/reducer';\n\nconst store = createStore(reducer);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport store from './components/App/store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}